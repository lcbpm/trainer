# 3. ç±»å‹ç³»ç»Ÿ

## ğŸ“‹ ç›®å½•

- [3.1 æ¥å£](#31-æ¥å£)
- [3.2 åå°„](#32-åå°„)
- [3.3 æ¥å£å’Œç±»å‹ç³»ç»Ÿä»£ç é¢˜](#33-æ¥å£å’Œç±»å‹ç³»ç»Ÿä»£ç é¢˜)

---

### 3.1 æ¥å£
**Q: ç©ºæ¥å£interface{}çš„åº•å±‚å®ç°ï¼Ÿ**
- efaceç»“æ„ï¼š_typeå’ŒdataæŒ‡é’ˆ
- ç±»å‹æ–­è¨€çš„æ€§èƒ½è€ƒè™‘

**Q: æ¥å£çš„åŠ¨æ€ç±»å‹å’ŒåŠ¨æ€å€¼ï¼Ÿ**
- ç±»å‹ä¿¡æ¯å’Œå€¼ä¿¡æ¯åˆ†åˆ«å­˜å‚¨
- nilæ¥å£çš„åˆ¤æ–­æœºåˆ¶

### 3.2 åå°„
**Q: åå°„çš„æ€§èƒ½å½±å“å’Œä½¿ç”¨åœºæ™¯ï¼Ÿ**
- Typeå’ŒValueçš„è·å–æˆæœ¬

### 3.3 æ¥å£å’Œç±»å‹ç³»ç»Ÿä»£ç é¢˜

#### ç©ºæ¥å£åˆ¤æ–­
```go
func isNil(x interface{}) bool {
    // é”™è¯¯çš„nilåˆ¤æ–­
    return x == nil
}

func correctNilCheck(x interface{}) bool {
    // æ­£ç¡®çš„nilåˆ¤æ–­
    if x == nil {
        return true
    }
    
    v := reflect.ValueOf(x)
    switch v.Kind() {
    case reflect.Chan, reflect.Func, reflect.Interface, 
         reflect.Map, reflect.Ptr, reflect.Slice:
        return v.IsNil()
    default:
        return false
    }
}
```

#### ç±»å‹æ–­è¨€æ€§èƒ½
```go
// é«˜é¢‘ç±»å‹æ–­è¨€ä¼˜åŒ–
func processValue(v interface{}) {
    // ä½¿ç”¨type switchæ¯”å¤šæ¬¡ç±»å‹æ–­è¨€æ•ˆç‡æ›´é«˜
    switch val := v.(type) {
    case int:
        // å¤„ç†int
    case string:
        // å¤„ç†string
    case []byte:
        // å¤„ç†[]byte
    default:
        // å¤„ç†å…¶ä»–ç±»å‹
    }
}
```